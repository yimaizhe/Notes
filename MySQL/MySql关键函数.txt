关键函数

1,sum()

    某些情况下用count（*）来做计数是不能很好的实现的，这个时候可以用sum配合case表达式来做累加计数，范例如下：

	SELECT 
	 sum(case when rep_haddf = 1 then 1 else 0 end) ,
	 sum(case when rep_progress = 100 then 1 else 0 end)
	FROM dailly_report
	 where rep_type = '计划'
	 group by rep_userid

2,replace()
 
	场景：替换部分字符串;replace(str,from_str,to_str)
	eg: update tableName set url=REPLACE('www.test.com','test','abc');
==============================================================
关键字
1,after
	调整字段顺序：
	alter table 表名
	change 字段名 新字段名 字段类型 默认值 after 字段名(跳到哪个字段之后)
     eg:
        alter table wh_dlrz 
	change userid `userid` varchar(50) DEFAULT NULL COMMENT '主键' after xh

2，truncate  清空表数据
      truncate table 表名
    如果主键是自增的，drop table后再重新create table，主键还按drop前的序号自增；
    使用truncate则可重置主键，从1开始

3， change 
  修改表A主键id类型，同时是其他表的外键
  先删除关联关系，把外键删除；如果是自增长类型，先删除自增长属性；删除主键属性；
  修改类型； 添加主键属性；添加外键；
  eg:
       alter table C drop foreign key `FK_C_A`;
       alter table A change id id int;
       alter table A drop primary key;
       alter table A change id id varchar(20);
       alter table A add primary key(id);